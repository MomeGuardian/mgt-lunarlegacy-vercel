@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* 按钮发光动画：仅在电脑端或高性能设备上开启，手机端简化 */
@keyframes glow {
  0%, 100% { box-shadow: 0 0 10px rgba(147, 51, 234, 0.3); } /* 降低阴影强度 */
  50% { box-shadow: 0 0 20px rgba(236, 72, 153, 0.5); }
}
.mgt-glow { 
  animation: glow 3s ease-in-out infinite; /* 放慢动画速度，省电 */
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  /* ⚡️ 关键优化：手机端防止横向滚动条 */
  overflow-x: hidden; 
  -webkit-font-smoothing: antialiased;
}

/* ⚡️⚡️⚡️ 核心优化区：星空背景 ⚡️⚡️⚡️ */

/* 1. 默认状态（手机端）：纯净黑底，无动画，极速渲染 */
.grok-starry-bg {
  background-color: #030712 !important; /* gray-950 */
  position: relative !important;
  min-height: 100vh;
  z-index: 0;
  /* 手机端禁用伪元素动画，避免 GPU 过载 */
}

.grok-starry-bg::before,
.grok-starry-bg::after {
  display: none; /* 默认隐藏星星，手机不渲染 */
}

/* 2. 电脑端（屏幕宽度 > 768px）：开启绚丽星空动画 */
@media (min-width: 768px) {
  .grok-starry-bg {
    /* 电脑端才用渐变背景 */
    background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%) !important;
  }

  /* 开启星星层 */
  .grok-starry-bg::before {
    display: block;
    content: '' !important;
    position: absolute !important;
    inset: 0;
    width: 100%;
    height: 100%;
    background-image: 
      radial-gradient(1px 1px at 10px 10px, #ffffff 100%, transparent),
      radial-gradient(1px 1px at 40px 150px, #ffffff 100%, transparent),
      radial-gradient(1px 1px at 80px 20px, #ffffff 100%, transparent),
      radial-gradient(1px 1px at 120px 250px, #ffffff 100%, transparent),
      radial-gradient(1px 1px at 160px 80px, #ffffff 100%, transparent),
      radial-gradient(1px 1px at 200px 300px, #ffffff 100%, transparent);
    /* 减少星星数量，降低绘制压力 */
    background-size: 600px 600px;
    z-index: -2 !important;
    opacity: 0.6;
    animation: star-drift-slow 120s linear infinite;
    will-change: transform; /* 告诉浏览器启用 GPU 加速 */
  }

  .grok-starry-bg::after {
    display: block;
    content: '' !important;
    position: absolute !important;
    inset: -50%;
    width: 200%;
    height: 200%;
    background-image: 
      radial-gradient(2px 2px at 50px 100px, #ffffff 100%, transparent),
      radial-gradient(1.5px 1.5px at 150px 350px, #ffffff 100%, transparent),
      radial-gradient(2px 2px at 250px 50px, #ffffff 100%, transparent);
    background-size: 700px 700px;
    z-index: -1 !important;
    opacity: 0.8;
    animation: 
      star-drift-fast 80s linear infinite,
      star-twinkle-bright 4s ease-in-out infinite alternate;
    will-change: transform, opacity;
  }
}

/* 动画定义（保持不变，但只有电脑会调用） */
@keyframes star-drift-slow {
  from { transform: translateY(0); }
  to { transform: translateY(-600px); }
}

@keyframes star-drift-fast {
  from { transform: translateY(0); }
  to { transform: translateY(-700px); }
}

@keyframes star-twinkle-bright {
  0% { opacity: 0.4; transform: scale(0.9); }
  100% { opacity: 1; transform: scale(1.1); filter: brightness(1.5); }
}
